{"ast":null,"code":"/*const express = require(\"express\");\r\nconst Stripe = require(\"stripe\");\r\nconst stripe = new Stripe(\"sk_test_51MLyLWJDKVz9SMmjBPON3Ul4WWUjhm44gLDd5ZHCYIjpVlIkLnCPYdXYkJg5YZsv2fYId2pBqEDPJSHk2S70LoBg00RLSQWP6x\");\r\n\r\nconst cors = require(\"cors\");\r\n\r\nconst app = express();\r\n\r\napp.use(cors({ origin: \"http://localhost:3000\" }));\r\napp.use((_req, res, next) => {\r\n\tres.header('Access-Control-Allow-Origin', '*');\r\n\tres.header('Access-Control-Allow-Headers', '*');\r\n\tres.header('Access-Control-Allow-Methods', '*' );\r\n  \r\n\tnext();\r\n  });\r\napp.use(express.json());\r\n\r\napp.post(\"api/checkout\", async (req, res) => {\r\n\t//console.log(req.body)\r\n  const { id, amount } = req.body;\r\n\r\n  try {\r\n    const payment = await stripe.paymentIntents.create({\r\n      amount,\r\n      currency: \"EUR\",\r\n      description: \"Bike\",\r\n      payment_method: id,\r\n      confirm: true\r\n    });\r\n\r\n    console.log(payment);\r\n\r\n    return res.status(200).json({ message: \"Successful Payment\" });\r\n\t//return res.send('ok')\r\n  } catch (error) {\r\n    console.log(error);\r\n    return res.json({ message: error.raw.message });\r\n  }\r\n});\r\n\r\napp.listen(3001, () => {\r\n  console.log(\"Server on port\", 3001);\r\n});*/","map":{"version":3,"names":[],"sources":["C:/Users/galia/OneDrive/Escritorio/rent-a-bike-app/src/indexServer.js"],"sourcesContent":["/*const express = require(\"express\");\r\nconst Stripe = require(\"stripe\");\r\nconst stripe = new Stripe(\"sk_test_51MLyLWJDKVz9SMmjBPON3Ul4WWUjhm44gLDd5ZHCYIjpVlIkLnCPYdXYkJg5YZsv2fYId2pBqEDPJSHk2S70LoBg00RLSQWP6x\");\r\n\r\nconst cors = require(\"cors\");\r\n\r\nconst app = express();\r\n\r\napp.use(cors({ origin: \"http://localhost:3000\" }));\r\napp.use((_req, res, next) => {\r\n\tres.header('Access-Control-Allow-Origin', '*');\r\n\tres.header('Access-Control-Allow-Headers', '*');\r\n\tres.header('Access-Control-Allow-Methods', '*' );\r\n  \r\n\tnext();\r\n  });\r\napp.use(express.json());\r\n\r\napp.post(\"api/checkout\", async (req, res) => {\r\n\t//console.log(req.body)\r\n  const { id, amount } = req.body;\r\n\r\n  try {\r\n    const payment = await stripe.paymentIntents.create({\r\n      amount,\r\n      currency: \"EUR\",\r\n      description: \"Bike\",\r\n      payment_method: id,\r\n      confirm: true\r\n    });\r\n\r\n    console.log(payment);\r\n\r\n    return res.status(200).json({ message: \"Successful Payment\" });\r\n\t//return res.send('ok')\r\n  } catch (error) {\r\n    console.log(error);\r\n    return res.json({ message: error.raw.message });\r\n  }\r\n});\r\n\r\napp.listen(3001, () => {\r\n  console.log(\"Server on port\", 3001);\r\n});*/\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}