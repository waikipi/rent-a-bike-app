{"ast":null,"code":"var _jsxFileName = \"C:\\\\React\\\\Proyectos\\\\rent-a-bike-app\\\\src\\\\App.js\";\nimport Bikes from './components/Bikes';\nimport { Component } from 'react';\nimport CartBox from './components/CartBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      bikes: [{\n        time: '09:00',\n        stock: 8,\n        price: '10€'\n      }, {\n        time: '10:00',\n        stock: 8,\n        price: '10€'\n      }, {\n        time: '11:00',\n        stock: 8,\n        price: '10€'\n      }, {\n        time: '12:00',\n        stock: 8,\n        price: '10€'\n      }, {\n        time: '13:00',\n        stock: 8,\n        price: '10€'\n      }, {\n        time: '14:00',\n        stock: 8,\n        price: '10€'\n      }, {\n        time: '15:00',\n        stock: 8,\n        price: '10€'\n      }, {\n        time: '16:00',\n        stock: 8,\n        price: '10€'\n      }],\n      cart: [],\n      leftBikes: [],\n      isCartVisible: false\n    };\n    this.addToCart = bike => {\n      const {\n        cart\n      } = this.state;\n      for (let i = 0; i < cart.length; i++) {\n        if (cart[i].stock === 0) {\n          //return alert('Run out. Please select another time')\n        }\n      }\n      if (cart.find(element => element.time === bike.time)) {\n        const newCart = cart.map(element => element.time === bike.time ? {\n          ...element,\n          quantity: element.quantity + 1,\n          stock: element.stock - 1\n        } : element);\n        return this.setState({\n          cart: newCart\n        });\n      }\n      //return this.setState({cart: this.state.cart.concat({...bike, stock: bike.stock - 1, quantity: 1})})\n      return this.setState({\n        bikes: this.state.bikes.concat({\n          polla: 'gorda',\n          stock: bike.stock - 1\n        })\n      });\n    };\n    this.showLeftBikes = bike => {\n      const {\n        leftBikes\n      } = this.state;\n      return this.setState({\n        leftBikes: leftBikes.concat({\n          robocop: 'toma'\n        })\n      });\n    };\n    this.showCart = () => {\n      this.setState({\n        isCartVisible: true\n      });\n    };\n  }\n  render() {\n    //console.log(this.state.cart)\n    console.log(this.state.leftBikes);\n    const {\n      isCartVisible\n    } = this.state;\n    //const {bike} = this.props\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [isCartVisible ? /*#__PURE__*/_jsxDEV(CartBox, {\n        cart: this.state.cart,\n        showCart: this.state.showCart,\n        isCartVisible: this.state.isCartVisible\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 20\n      }, this) : null, /*#__PURE__*/_jsxDEV(Bikes, {\n        addToCart: this.addToCart,\n        showCart: this.showCart,\n        bikes: this.state.bikes,\n        showLeftBikes: this.showLeftBikes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["Bikes","Component","CartBox","App","state","bikes","time","stock","price","cart","leftBikes","isCartVisible","addToCart","bike","i","length","find","element","newCart","map","quantity","setState","concat","polla","showLeftBikes","robocop","showCart","render","console","log"],"sources":["C:/React/Proyectos/rent-a-bike-app/src/App.js"],"sourcesContent":["import Bikes from './components/Bikes'\nimport { Component } from 'react';\nimport CartBox from './components/CartBox';\n\nclass App extends Component{\n\n\tstate = {\n\t\tbikes: [\n\t\t{time: '09:00', stock: 8, price: '10€'},\n\t\t{time: '10:00', stock: 8, price: '10€'},\n\t\t{time: '11:00', stock: 8, price: '10€'},\n\t\t{time: '12:00', stock: 8, price: '10€'},\n\t\t{time: '13:00', stock: 8, price: '10€'},\n\t\t{time: '14:00', stock: 8, price: '10€'},\n\t\t{time: '15:00', stock: 8, price: '10€'},\n\t\t{time: '16:00', stock: 8, price: '10€'}],\n\t\tcart: [],\n\t\tleftBikes: [],\n\t\tisCartVisible: false\n\t}\n\n\taddToCart = (bike) => {\n\t\tconst {cart} = this.state\n\t\t\n\t\tfor(let i=0; i<cart.length; i++){\n\t\t\tif(cart[i].stock === 0){\n\t\t\t\t//return alert('Run out. Please select another time')\n\t\t\t}\n\t\t}\n\t\tif(cart.find(element => element.time === bike.time)){\n\t\t\tconst newCart = cart.map(element => element.time === bike.time ? \n\t\t\t\t({...element, quantity: element.quantity + 1, stock: element.stock - 1}) : element)\n\t\t\treturn this.setState({cart: newCart}) \n\t\t}\n\t\t//return this.setState({cart: this.state.cart.concat({...bike, stock: bike.stock - 1, quantity: 1})})\n\t\treturn this.setState({bikes: this.state.bikes.concat({polla:'gorda', stock: bike.stock - 1})})\n\t}\n\n\tshowLeftBikes = (bike) => {\n\t\tconst {leftBikes} = this.state\n\t\treturn this.setState({leftBikes: leftBikes.concat({robocop: 'toma'})})\n\t\n\t}\n\n\tshowCart = () => {\n\t\tthis.setState({isCartVisible:true})\t\n\t}\n\n\trender(){\n\t\t//console.log(this.state.cart)\n\t\tconsole.log(this.state.leftBikes)\n\t\tconst {isCartVisible} = this.state\n\t\t//const {bike} = this.props\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t{isCartVisible?<CartBox \n\t\t\t\tcart={this.state.cart}\n\t\t\t\tshowCart={this.state.showCart}\n\t\t\t\tisCartVisible={this.state.isCartVisible}/>:null}\n\n\t\t\t\t{<Bikes\n\t\t\t\taddToCart = {this.addToCart}\n\t\t\t\tshowCart = {this.showCart}\n\t\t\t\tbikes = {this.state.bikes}\n\t\t\t\tshowLeftBikes = {this.showLeftBikes}\n\t\t\t\t/>}\n\n\t\t\t\t\n\t\t\t\t\n\n\t\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t)\n\t}\n}\n\nexport default App\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}