{"ast":null,"code":"var _jsxFileName = \"C:\\\\React\\\\Proyectos\\\\rent-a-bike-app\\\\src\\\\App.js\";\nimport Bikes from './components/Bikes';\nimport Bike from './components/Bike';\nimport { Component } from 'react';\nimport CartBox from './components/CartBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst noStockStyle = {\n  color: 'red'\n};\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      bikes: [{\n        time: '09:00',\n        stock: 8,\n        price: '10€',\n        isButtonVisible: true,\n        isBikeInCart: true\n      }, {\n        time: '10:00',\n        stock: 8,\n        price: '10€',\n        isButtonVisible: true,\n        isBikeInCart: true\n      }, {\n        time: '11:00',\n        stock: 8,\n        price: '10€',\n        isButtonVisible: true,\n        isBikeInCart: true\n      }, {\n        time: '12:00',\n        stock: 8,\n        price: '10€',\n        isButtonVisible: true,\n        isBikeInCart: true\n      }, {\n        time: '13:00',\n        stock: 8,\n        price: '10€',\n        isButtonVisible: true,\n        isBikeInCart: true\n      }, {\n        time: '14:00',\n        stock: 8,\n        price: '10€',\n        isButtonVisible: true,\n        isBikeInCart: true\n      }, {\n        time: '15:00',\n        stock: 8,\n        price: '10€',\n        isButtonVisible: true,\n        isBikeInCart: true\n      }, {\n        time: '16:00',\n        stock: 8,\n        price: '10€',\n        isButtonVisible: true,\n        isBikeInCart: true\n      }],\n      cart: [],\n      isCartVisible: false,\n      totalPrice: 0\n    };\n    this.runOutStock = bike => {\n      //console.log(bike.stock)\n      const noStockStyle = {\n        backgroundColor: 'red'\n      };\n      if (bike.stock <= 1) {\n        console.log(bike.stock);\n        //return <div style={noStockStyle}>{bike}</div>\n        return /*#__PURE__*/_jsxDEV(Bike, {\n          style: noStockStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this);\n      }\n    };\n    this.addToCart = bike => {\n      const {\n        cart,\n        totalPrice\n      } = this.state;\n      if (bike.stock <= 1) {\n        bike.isButtonVisible = false;\n      }\n      if (cart.find(element => element.time === bike.time)) {\n        if (bike.stock > 0) {\n          const newCart = cart.map(element => element.time === bike.time ? {\n            ...element,\n            quantity: element.quantity + 1,\n            isBikeInCart: true\n          } : element);\n          return this.setState({\n            cart: newCart,\n            totalPrice: totalPrice + 10\n          });\n        }\n      }\n      return this.setState({\n        cart: this.state.cart.concat({\n          ...bike,\n          stock: bike.stock - 1,\n          quantity: 1\n        }),\n        totalPrice: totalPrice + 10\n      });\n    };\n    this.updateStock = bike => {\n      const {\n        bikes\n      } = this.state;\n      if (bikes.find(element => element.time === bike.time)) {\n        const newStock = bikes.map(element => element.time === bike.time ? {\n          ...element,\n          stock: element.stock - 1\n        } : element);\n        return this.setState({\n          bikes: newStock\n        });\n      }\n    };\n    this.showCart = () => {\n      this.setState({\n        isCartVisible: true\n      });\n    };\n    this.deleteBike = cartBike => {\n      let {\n        cart,\n        totalPrice\n      } = this.state;\n      const indexBike = cart.indexOf(cartBike);\n      cart.splice(indexBike, 1);\n      const {\n        bikes\n      } = this.state;\n      if (bikes.find(element => element.time === cartBike.time)) {\n        const replaceStock = bikes.map(element => element.time === cartBike.time ? {\n          ...element,\n          stock: 8,\n          isButtonVisible: true\n        } : element);\n        this.setState({\n          bikes: replaceStock,\n          totalPrice: totalPrice - 10 * cartBike.quantity\n        });\n      }\n      cartBike.quantity = 0;\n      if (!cart.length) this.setState({\n        isCartVisible: false\n      });\n    };\n  }\n  render() {\n    const {\n      isCartVisible,\n      totalPrice\n    } = this.state;\n    const {\n      cartBike\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [isCartVisible ? /*#__PURE__*/_jsxDEV(CartBox, {\n        cart: this.state.cart,\n        showCart: this.state.showCart,\n        isCartVisible: this.state.isCartVisible,\n        deleteBike: this.deleteBike,\n        isBikeInCart: this.state.isBikeInCart,\n        cartBike: cartBike,\n        totalPrice: totalPrice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 20\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"p\", {\n        style: noStockStyle,\n        children: \"hola\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Bikes, {\n        addToCart: this.addToCart,\n        showCart: this.showCart,\n        bikes: this.state.bikes,\n        updateStock: this.updateStock,\n        isButtonVisible: this.state.isButtonVisible,\n        isBikeInCart: this.state.isBikeInCart,\n        runOutStock: this.runOutStock\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 4\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["Bikes","Bike","Component","CartBox","noStockStyle","color","App","state","bikes","time","stock","price","isButtonVisible","isBikeInCart","cart","isCartVisible","totalPrice","runOutStock","bike","backgroundColor","console","log","addToCart","find","element","newCart","map","quantity","setState","concat","updateStock","newStock","showCart","deleteBike","cartBike","indexBike","indexOf","splice","replaceStock","length","render","props"],"sources":["C:/React/Proyectos/rent-a-bike-app/src/App.js"],"sourcesContent":["import Bikes from './components/Bikes'\nimport Bike from './components/Bike'\nimport { Component } from 'react';\nimport CartBox from './components/CartBox';\nconst noStockStyle = {\n\tcolor: 'red'\n}  \nclass App extends Component{\n\n\tstate = {\n\t\tbikes: [\n\t\t{time: '09:00', stock: 8, price: '10€', isButtonVisible: true, isBikeInCart: true},\n\t\t{time: '10:00', stock: 8, price: '10€', isButtonVisible: true, isBikeInCart: true},\n\t\t{time: '11:00', stock: 8, price: '10€', isButtonVisible: true, isBikeInCart: true},\n\t\t{time: '12:00', stock: 8, price: '10€', isButtonVisible: true, isBikeInCart: true},\n\t\t{time: '13:00', stock: 8, price: '10€', isButtonVisible: true, isBikeInCart: true},\n\t\t{time: '14:00', stock: 8, price: '10€', isButtonVisible: true, isBikeInCart: true},\n\t\t{time: '15:00', stock: 8, price: '10€', isButtonVisible: true, isBikeInCart: true},\n\t\t{time: '16:00', stock: 8, price: '10€', isButtonVisible: true, isBikeInCart: true}],\n\t\tcart: [],\n\t\tisCartVisible: false,\n\t\ttotalPrice: 0\n\t}\n\n\trunOutStock = (bike) => {\n\t\t//console.log(bike.stock)\n\t\tconst noStockStyle = {\n\t\t\tbackgroundColor: 'red'\n\t\t}\n\t\tif(bike.stock <= 1){\n\t\t\tconsole.log(bike.stock)\n\t\t\t//return <div style={noStockStyle}>{bike}</div>\n\t\t\treturn <Bike style={noStockStyle}/>\n\t\t}\n\t}\n\n\taddToCart = (bike) => {\n\t\tconst {cart, totalPrice} = this.state\n\t\tif(bike.stock <= 1){\n\t\t\tbike.isButtonVisible = false\n\t\t}\n\t\t\n\t\tif(cart.find(element => element.time === bike.time)){\n\t\t\tif(bike.stock > 0){\n\t\t\t\tconst newCart = cart.map(element => element.time === bike.time ? \n\t\t\t\t\t({...element, quantity: element.quantity + 1, isBikeInCart:true}) : element)\n\t\t\t\treturn this.setState({cart: newCart, totalPrice: totalPrice + 10}) \n\t\t\t}\t\t\n\t\t}\n\t\treturn this.setState({cart: this.state.cart.concat({...bike, stock: bike.stock - 1, quantity: 1}), totalPrice: totalPrice + 10})\n\t}\n\n\tupdateStock = (bike) => {\n\t\tconst {bikes} = this.state\n\t\tif(bikes.find(element => element.time === bike.time)){\n\t\t\tconst newStock = bikes.map(element => element.time === bike.time ? \n\t\t\t\t({...element, stock: element.stock - 1}) : element)\n\t\t\treturn this.setState({bikes: newStock}) \n\t\t}\n\t}\n\n\tshowCart = () => {\t\n\t\tthis.setState({isCartVisible:true})\t\n\t}\n\n\tdeleteBike = (cartBike) => {\n\t\tlet {cart, totalPrice} = this.state\n\t\t\n\t\tconst indexBike = cart.indexOf(cartBike)\n\t\tcart.splice(indexBike, 1)\n\t\t\n\t\tconst {bikes} = this.state\n\t\tif(bikes.find(element => element.time === cartBike.time)){\n\t\t\tconst replaceStock = bikes.map(element => element.time === cartBike.time ? \n\t\t\t\t({...element, stock: 8, isButtonVisible: true}) : element)\n\t\t\t\tthis.setState({bikes: replaceStock, totalPrice: totalPrice - (10 * cartBike.quantity)}) \t\t\n\t\t}\n\t\tcartBike.quantity = 0;\n\t\tif(!cart.length) this.setState({isCartVisible: false})\t\n\t}\n\n\n\trender(){\n\t\tconst {isCartVisible, totalPrice} = this.state\n\t\tconst {cartBike} = this.props\n\t\t\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t{isCartVisible?<CartBox \n\t\t\t\tcart={this.state.cart}\n\t\t\t\tshowCart={this.state.showCart}\n\t\t\t\tisCartVisible={this.state.isCartVisible}\n\t\t\t\tdeleteBike={this.deleteBike}\n\t\t\t\tisBikeInCart={this.state.isBikeInCart}\n\t\t\t\tcartBike={cartBike}\n\t\t\t\ttotalPrice={totalPrice}/>:null}\n\t\t\t\t<p style={noStockStyle}>hola</p>\n\n\t\t\t\t<Bikes\n\t\t\t\taddToCart = {this.addToCart}\n\t\t\t\tshowCart = {this.showCart}\n\t\t\t\tbikes = {this.state.bikes}\n\t\t\t\tupdateStock = {this.updateStock}\n\t\t\t\tisButtonVisible = {this.state.isButtonVisible}\n\t\t\t\tisBikeInCart = {this.state.isBikeInCart}\n\t\t\t\trunOutStock = {this.runOutStock}\n\t\t\t\t/>\n\n\t\t\t\t\n\t\t\t\t\n\n\t\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t)\n\t}\n}\n\nexport default App\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}